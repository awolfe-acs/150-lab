import u from"./index-BbrXr4yz.js";import{g as l,S as h}from"./index-DjC0VSE1.js";import{l as p}from"./logger-2Ii2FPkr.js";const a=[],c=[],d=()=>new Promise(t=>{document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{t()}):setTimeout(t,100)}),g=t=>new Promise(e=>{const n=t.closest("section")||t.parentNode;if(!n){e();return}const o=n.querySelectorAll("img");if(o.length===0){e();return}const r=setTimeout(e,2e3);let i=0,f=!0;if(o.forEach(s=>{s.complete||(f=!1)}),f){clearTimeout(r),e();return}o.forEach(s=>{s.complete?(i++,i===o.length&&(clearTimeout(r),e())):(s.addEventListener("load",()=>{i++,i===o.length&&(clearTimeout(r),e())}),s.addEventListener("error",()=>{i++,i===o.length&&(clearTimeout(r),e())}))})}),m=(t,e)=>{const n=t.innerHTML;t.setAttribute("data-original-content",n),Promise.all([d(),g(t)]).then(()=>{t.offsetHeight;const o=(r=0)=>{const i=new u(t,{types:"lines",lineClass:"split-line",absolute:!1,tagName:"div"});i.lines&&i.lines.length>0?(a.push({element:t,splitText:i,originalContent:n}),l.set(i.lines,{opacity:0,y:50}),h.create({trigger:t,start:"top 85%",once:!1,markers:!1,id:`split-lines-${e}`,onEnter:()=>{const s=e*200;l.to(i.lines,{opacity:1,y:0,duration:1.2,stagger:.1,ease:"power2.out",delay:s/1e3,overwrite:!0})},onLeaveBack:()=>{l.to(i.lines,{opacity:0,y:50,duration:.8,stagger:.05,ease:"power2.in",overwrite:!0})}})):r<3?(i&&typeof i.revert=="function"&&i.revert(),setTimeout(()=>{o(r+1)},300*(r+1))):(p.warn("SplitType failed to create lines properly after multiple attempts:",t),t.innerHTML=n)};o()})},y=(t,e)=>{const n=t.innerHTML;t.setAttribute("data-original-content",n),Promise.all([d(),g(t)]).then(()=>{t.offsetHeight;const o=(r=0)=>{const i=new u(t,{types:"chars",charClass:"split-char",absolute:!1,tagName:"span"});i.chars&&i.chars.length>0?(c.push({element:t,splitText:i,originalContent:n}),l.set(i.chars,{opacity:0,y:50,display:"inline-block"}),h.create({trigger:t,start:"top 85%",once:!1,markers:!1,id:`split-chars-${e}`,onEnter:()=>{l.to(i.chars,{opacity:1,y:0,duration:1.2,stagger:.02,ease:"power2.out",overwrite:!0})},onLeaveBack:()=>{l.to(i.chars,{opacity:0,y:50,duration:.8,stagger:.01,ease:"power2.in",overwrite:!0})}})):r<3?(i&&typeof i.revert=="function"&&i.revert(),setTimeout(()=>{o(r+1)},300*(r+1))):(p.warn("SplitType failed to create chars after multiple attempts:",t),t.innerHTML=n)};o()})};function v(t=null){const e=t||document.querySelectorAll(".split-lines");if(!e||e.length===0){p.warn("No .split-lines elements found or provided for initialization");return}e.forEach((n,o)=>{m(n,o)})}function H(t=null){const e=t||document.querySelectorAll(".split-chars");if(!e||e.length===0){p.warn("No .split-chars elements found or provided for initialization");return}e.forEach((n,o)=>{y(n,o)})}function S(){a.forEach(t=>{t.element&&t.originalContent&&(t.element.innerHTML=t.originalContent);const e=a.indexOf(t);e>-1&&a.splice(e,1)})}function T(){S(),setTimeout(()=>{document.querySelectorAll(".split-lines").forEach((e,n)=>{m(e,n)})},100)}function w(){c.forEach(t=>{t.element&&t.originalContent&&(t.element.innerHTML=t.originalContent);const e=c.indexOf(t);e>-1&&c.splice(e,1)})}function C(){w(),setTimeout(()=>{document.querySelectorAll(".split-chars").forEach((e,n)=>{y(e,n)})},100)}window.cleanupSplitLines=S;window.refreshSplitLines=T;window.cleanupSplitChars=w;window.refreshSplitChars=C;export{w as cleanupSplitChars,S as cleanupSplitLines,H as initSplitCharsAnimation,v as initSplitLinesAnimation,C as refreshSplitChars,T as refreshSplitLines};
